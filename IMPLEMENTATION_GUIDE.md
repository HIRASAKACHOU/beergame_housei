# ビールゲーム - UI改善実装ガイド

## 📋 実装サマリー

### ✅ 完了した機能

1. **開局通知の改善**
   - トースト型自動消失通知（2秒間表示）
   - 確認ボタンなし
   - 日文UI：「第X週が開始しました」

2. **入荷処理の動効**
   - 上下浮動アニメーション（2.5秒ループ）
   - スケール変化と影付けで立体感
   - 日文UI：「入荷処理中」「次週在庫へ」

3. **運送中商品の動効**
   - 左右移動のシミュレーション（2秒ループ）
   - 到着直前（最初の項目）は緑色のパルス強調
   - 日文UI：「次週到着」「X週後」

---

## 🔧 技術詳細

### ファイル構成

```
beergame_housei/
├── game.js                  # メインゲームロジック（改修）
├── style.css               # スタイル定義（新アニメーション追加）
├── index.html              # メインHTML（変更なし）
├── README.md               # 既存README
├── UPDATES.md              # このアップデート情報（新規）
└── その他ファイル
```

### 変更箇所

#### game.js
| 関数名 | 変更内容 | 行番号 |
|-------|--------|-------|
| `showRoundStartModal()` | 2秒自動消失、アニメーション表示 | 241-304 |
| `updateTransitTimeline()` | animation-transit-itemクラス追加 | 642-675 |
| `updateReceivingArea()` | animation-receiving-itemクラス追加 | 676-710 |

#### style.css
新しいアニメーション定義（行1510以降）:
- `toast-pop-in` / `toast-fade-out`
- `receiving-flow-animation`
- `transit-motion-animation`
- `arriving-pulse`
- その他補助アニメーション

---

## 🎨 アニメーション仕様

### 1. 開局トースト通知
```css
トースト通知が画面中央に表示
↓
0.5秒でポップイン（拡大）
↓
1.5秒間表示
↓
0.5秒でフェードアウト（消滅）
```

### 2. 入荷処理項
```css
ループアニメーション（2.5秒）:
- 0%:    中立位置、白背景
- 25%:   上昇開始、スケール1.02
- 50%:   最大上昇（12px）、スケール1.05、黄色背景
- 75%:   下降開始
- 100%:  中立位置、白背景に戻る
```

### 3. 運送項（通常）
```css
ループアニメーション（2秒）:
- 右方向への移動（0→8px）
- スケール変化（1→1.05）
- 背景色：白→青グラデーション
- 影付けで奥行き表現
```

### 4. 運送項（到着直前）
```css
ループアニメーション（1.5秒）:
- パルス効果
- スケール：1→1.08
- 背景色：緑グラデーション
- 大きな影で視線集中
```

---

## 🌍 日文UI一覧

### 開局画面
```
第X週が開始しました
在庫に追加: X個          （あれば）
入荷処理中: X個          （あれば）
```

### 入荷処理区
```
入荷処理中
X個
次週在庫へ
```

### 運送可視化
```
次週到着    （または） X週後
X個
第X週
```

### その他
```
輸送中の商品がありません     （空の場合）
入荷処理中の商品がありません （空の場合）
工場は入荷処理なし           （工場の場合）
```

---

## 🚀 使用方法

### ゲーム開始フロー

1. **ゲーム設定画面で設定**
   - 役割選択
   - AI設定
   - パラメータ設定

2. **ゲーム開始ボタンクリック**
   - 最初の週のトースト表示
   - 2秒後に自動消失
   - 出荷フェーズ開始

3. **毎週の流れ**
   - 入荷処理、運送アニメーション表示
   - 出荷入力
   - 発注入力
   - 次の週へ

---

## ⚙️ パフォーマンス最適化

- CSS3アニメーションで高速レンダリング
- ハードウェアアクセラレーション対応
- `!important`フラグで既存スタイル干渉回避
- 複数の同時アニメーション対応

---

## 🔗 ブラウザ互換性

| ブラウザ | サポート |
|---------|---------|
| Chrome | ✅ 最適 |
| Firefox | ✅ 最適 |
| Safari | ✅ 最適 |
| Edge | ✅ 最適 |
| IE11 | ⚠️ 基本機能 |

---

## 📝 注記

- すべてのテキストは日本語で記述
- アニメーションは自動ループ
- ゲームロジックに変更なし
- 既存の機能はすべて保持

---

**作成日:** 2025年11月16日
**バージョン:** 1.0
